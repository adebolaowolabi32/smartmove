<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/webflow
  http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd">

    <view-state id="cook" view="tickets/cook" model="flowScope.testModel">
        <on-entry>
            <set name="flowScope.testModel"
                 value="new com.interswitch.smartmoveserver.model.view.TestModel()"/>

            <evaluate result="viewScope.routes" expression=
                    "ticketService.getRoutes()"/>
            <evaluate result="viewScope.trips" expression=
                    "ticketService.getTrips()"/>
            <evaluate expression="T(org.apache.commons.logging.LogFactory).getLog(getClass()).info('In now')"/>
        </on-entry>
        <transition on="makeCooking" to="best"></transition>
        <on-exit>
            <evaluate expression="T(org.apache.commons.logging.LogFactory).getLog(getClass()).info('Out now')"/>
        </on-exit>
    </view-state>
    <view-state id="best" view="tickets/best">
        <transition on="makeDooking" to="test"></transition>
    </view-state>
    <end-state id="test" view="tickets/test"/>
</flow>